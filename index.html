<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Animated Text</title>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;500&display=swap" rel="stylesheet">
    <style>
        @font-face {
            font-family: 'Storyteller';
            src: url('path/to/Storyteller-Regular.woff2') format('woff2'),
                 url('path/to/Storyteller-Regular.woff') format('woff');
            /* Storytellerフォントのパスを正確に指定してください */
            /* 必要であれば他の形式 (e.g., .ttf) も追加 */
            font-weight: normal;
            font-style: normal;
        }

        body {
            margin: 0;
            overflow: hidden;
            background-color: #E81F27; /* 背景色を#E81F27に変更 */
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            font-family: 'Oswald', sans-serif; /* 文章のフォントをOswaldに設定 */
            font-weight: 500; /* Oswald Mediumに相当 */
            font-size: 20px; /* フォントサイズを20pxに設定 */
            color: #000000; /* 文字色を黒に設定 */
        }

        .container {
            position: relative;
            text-align: center;
            padding: 20px;
            /* 長いテキストに対応するため、必要に応じてcontainerの最大幅を設定 */
            max-width: 90vw; /* 例: ビューポートの幅の90% */
        }

        .text-wrapper {
            position: absolute; /* absoluteを維持し、transformで中央に配置 */
            width: 100%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: flex; /* flexboxで文字を並べる */
            flex-wrap: wrap; /* テキストが長すぎる場合に折り返す */
            justify-content: center; /* 中央揃え */
            white-space: pre-wrap; /* 改行コードを有効にする */
            line-height: 1.5; /* 行の高さを調整 */
        }

        .falling-char {
            display: inline-block;
            opacity: 1;
            transform: translateY(0);
            animation: fall 2s forwards; /* アニメーション時間を調整 */
            animation-timing-function: cubic-bezier(0.68, -0.55, 0.27, 1.55);
            /* 個々の文字のフォントやサイズは親から継承 */
        }

        /* @keyframes fall はそのまま */
        @keyframes fall {
            0% {
                opacity: 1;
                transform: translateY(0);
            }
            100% {
                opacity: 0;
                transform: translateY(200px); /* 落下距離を調整 */
            }
        }

        .remaining-text-container {
            position: absolute;
            width: 100%;
            bottom: 20%; /* 画面下部からの位置を調整 */
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            justify-content: center;
            font-family: 'Storyteller', cursive; /* Storytellerフォントを適用 */
            font-size: 80px; /* 残る文字のサイズを調整 */
            color: #000000; /* 残る文字の色も黒 */
            white-space: nowrap;
        }

        .remaining-char {
            display: inline-block;
            opacity: 0; /* 最初は非表示 */
            transition: opacity 0.5s ease-in-out; /* フェードインのアニメーション */
            /* Storytellerのアルファベット一つ一つが独立して残るため、特別なアニメーションは不要 */
        }

        .remaining-text-container.show .remaining-char {
            opacity: 1; /* アニメーション後に表示 */
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="text-wrapper" id="animatedText">
            </div>
        <div class="remaining-text-container" id="remainingText">
            </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const animatedTextElement = document.getElementById('animatedText');
            const remainingTextContainer = document.getElementById('remainingText');

            // 崩れ落ちる文章として、ご指定の長い文字列を設定
            const initialText = `FENG SHUI MASTER / BARBER BORDER HOPPER / MATCHMAKER / NEW YORKER AUXILIARY POLICE TAILOR / DRONE PILOT TEA HOUSE OWNER STREET ARTIST / MONK NEW YORKER / TAILOR / SOCIAL WORKER CHEESE ARTISAN / FORTUNE TELLER / PRIEST MONK STORYTELLER / KUNG FU MASTER / HOMELESS MATCHMAKER / PRESCHOOL TEACHER
GRAFFITI ARTIST FENG SHUI MASTER
PRIEST / JUDGE ENGLISH TEACHER / BORDER HOPPER NEW YORKER COMMUNITY LEADER / SOCIAL WORKER NOVELIST NEW YORKER CHINESE MEDICINE DOCTOR / CHEESE ARTISAN STREET ARTIST JOURNALIST / AUXILIARY POLICE PROFESSOR
DRONE PILOT NEW YORKER / FENG SHUI MASTER STORYTELLER
MURALIST BORDER HOPPER / TEA HOUSE OWNER / CHEESE ARTISAN / JUDGE
SOCIAL WORKER JEWELER / NOVELIST / PRIEST / MURALIST
COMMUNITY MEMBER / ENGLISH TEACHER BARBER
GRAFFITI ARTIST / PROFESSOR SOCIAL WORKER TAILOR
ENGLISH TEACHER MATCHMAKER HOMELESS
HOMELESS STREET SINGER / STORYTELLER MONK
STREET ARTIST CHINESE MEDICINE DOCTOR / BARBER PROFESSOR
FENG SHUI MASTER / BARBER BORDER HOPPER / MATCHMAKER / NEW YORKER AUXILIARY POLICE TAILOR / DRONE PILOT TEA HOUSE OWNER STREET ARTIST / MONK NEW YORKER / TAILOR / SOCIAL WORKER CHEESE ARTISAN / FORTUNE TELLER / PRIEST MONK STORYTELLER / KUNG FU MASTER / HOMELESS MATCHMAKER / PRESCHOOL TEACHER
GRAFFITI ARTIST FENG SHUI MASTER
PRIEST / JUDGE ENGLISH TEACHER / BORDER HOPPER NEW YORKER COMMUNITY LEADER / SOCIAL WORKER NOVELIST NEW YORKER CHINESE MEDICINE DOCTOR / CHEESE ARTISAN STREET ARTIST JOURNALIST / AUXILIARY POLICE PROFESSOR
DRONE PILOT NEW YORKER / FENG SHUI MASTER STORYTELLER
MURALIST BORDER HOPPER / TEA HOUSE OWNER / CHEESE ARTISAN / JUDGE
SOCIAL WORKER JEWELER / NOVELIST / PRIEST / MURALIST
COMMUNITY MEMBER / ENGLISH TEACHER BARBER
GRAFFITI ARTIST / PROFESSOR SOCIAL WORKER TAILOR
ENGLISH TEACHER MATCHMAKER HOMELESS
HOMELESS STREET SINGER / STORYTELLER MONK
STREET ARTIST CHINESE MEDICINE DOCTOR / BARBER PROFESSOR
FENG SHUI MASTER / BARBER BORDER HOPPER / MATCHMAKER / NEW YORKER AUXILIARY POLICE TAILOR / DRONE PILOT TEA HOUSE OWNER STREET ARTIST / MONK NEW YORKER / TAILOR / SOCIAL WORKER CHEESE ARTISAN / FORTUNE TELLER / PRIEST MONK STORYTELLER / KUNG FU MASTER / HOMELESS MATCHMAKER / PRESCHOOL TEACHER
GRAFFITI ARTIST FENG SHUI MASTER
PRIEST / JUDGE ENGLISH TEACHER / BORDER HOPPER NEW YORKER COMMUNITY LEADER / SOCIAL WORKER NOVELIST NEW YORKER CHINESE MEDICINE DOCTOR / CHEESE ARTISAN STREET ARTIST JOURNALIST / AUXILIARY POLICE PROFESSOR
DRONE PILOT NEW YORKER / FENG SHUI MASTER STORYTELLER
MURALIST BORDER HOPPER / TEA HOUSE OWNER / CHEESE ARTISAN / JUDGE
SOCIAL WORKER JEWELER / NOVELIST / PRIEST / MURALIST
COMMUNITY MEMBER / ENGLISH TEACHER BARBER
GRAFFITI ARTIST / PROFESSOR SOCIAL WORKER TAILOR
ENGLISH TEACHER MATCHMAKER HOMELESS
HOMELESS STREET SINGER / STORYTELLER MONK
STREET ARTIST CHINESE MEDICINE DOCTOR / BARBER PROFESSOR`;

            const remainingText = "Storyteller"; // 最後に残る文字

            // 崩れ落ちる文字を動的に生成
            initialText.split('').forEach((char, index) => {
                const span = document.createElement('span');
                span.classList.add('falling-char');
                span.textContent = char;
                // 各文字の落下開始時間をずらす
                // 長いテキストなので、アニメーションが非常に長くなる可能性があります。
                // 必要に応じて、遅延時間の計算方法を調整してください。
                span.style.animationDelay = `${0.02 * index}s`; // 遅延時間を短く調整
                animatedTextElement.appendChild(span);
            });

            // 残る文字を動的に生成
            remainingText.split('').forEach(char => {
                const span = document.createElement('span');
                span.classList.add('remaining-char');
                span.textContent = char;
                remainingTextContainer.appendChild(span);
            });

            // 崩れるアニメーションの完了を待ってから残る文字を表示
            // 最も遅い文字のアニメーション時間 + 遅延時間 + フェードイン時間
            const longestAnimationDelay = (initialText.length - 1) * 0.02; // 上記の遅延時間に合わせて調整
            const animationDuration = 2; // fallアニメーションのduration
            const fadeInDuration = 0.5; // remaining-charのtransition時間

            setTimeout(() => {
                remainingTextContainer.classList.add('show');
            }, (longestAnimationDelay + animationDuration) * 1000); // ミリ秒に変換
        });
    </script>
</body>
</html>
